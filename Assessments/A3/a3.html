<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>Todo List</h2>
    <ul id="todoList">
        <!-- Existing todo items will be displayed here -->
    </ul>

    <input type="text" id="newTodoInput" placeholder="Enter a new todo">
    <button id="addTodoBtn">Add Todo</button>

    <script>
        // Get the input field, the button, and the list elements from the HTML document
let input = document.getElementById("input");
let button = document.getElementById("button");
let list = document.getElementById("list");

// Define a function to create a new list item and append it to the list
function addListItem() {
  // Get the value of the input field
  let value = input.value;
  // Check if the input is not empty
  if (value) {
    // Create a new list item element
    let listItem = document.createElement("li");
    // Set the text content of the list item to the input value
    listItem.textContent = value;
    // Append the list item to the list
    list.appendChild(listItem);
    // Clear the input field
    input.value = "";
    // Save the list to a cookie
    saveList();
  }
}

// Define a function to save the list to a cookie
function saveList() {
  // Get the list items as an array of strings
  let items = Array.from(list.children).map((item) => item.textContent);
  // Convert the array to a JSON string
  let json = JSON.stringify(items);
  // Set the cookie with the name "list" and the value as the JSON string
  document.cookie = "list=" + json;
}

// Define a function to load the list from a cookie
function loadList() {
  // Get the cookie string
  let cookie = document.cookie;
  // Split the cookie string by "; " to get an array of name-value pairs
  let pairs = cookie.split("; ");
  // Find the pair that starts with "list="
  let pair = pairs.find((pair) => pair.startsWith("list="));
  // Check if the pair exists
  if (pair) {
    // Get the value of the pair, which is the JSON string of the list items
    let json = pair.split("=")[1];
    // Parse the JSON string to get an array of strings
    let items = JSON.parse(json);
    // Loop through the array and create a list item for each string
    for (let item of items) {
      // Create a new list item element
      let listItem = document.createElement("li");
      // Set the text content of the list item to the string
      listItem.textContent = item;
      // Append the list item to the list
      list.appendChild(listItem);
    }
  }
}

// Add an event listener to the button that calls the addListItem function when clicked
button.addEventListener("click", addListItem);

// Load the list from the cookie when the window is loaded
window.addEventListener("load", loadList);

    </script>
</body>
</html>